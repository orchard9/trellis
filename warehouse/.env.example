# Trellis Warehouse Service Configuration
# Analytics and data querying API service

# Server Configuration
TRELLIS_WAREHOUSE_PORT=8081
TRELLIS_ENV=development
TRELLIS_LOG_LEVEL=info

# Warden Configuration (Organization Authentication)
WARDEN_ADDRESS=localhost:21382
WARDEN_TLS=false
WARDEN_SERVICE_API_KEY=wdn_your_service_account_api_key_here
WARDEN_TIMEOUT_SECONDS=30

# ClickHouse Configuration (Primary Query Engine)
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=8123
CLICKHOUSE_DATABASE=trellis
CLICKHOUSE_USERNAME=default
CLICKHOUSE_PASSWORD=
CLICKHOUSE_MAX_OPEN_CONNS=20
CLICKHOUSE_CONN_MAX_LIFETIME=60

# PostgreSQL Configuration (Campaign Metadata & Relational Data)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DATABASE=trellis
POSTGRES_USERNAME=trellis
POSTGRES_PASSWORD=your_password_here
POSTGRES_MAX_OPEN_CONNS=10

# Redis Configuration (Query Result Caching)
REDIS_URL=redis://localhost:6379/1
REDIS_POOL_SIZE=15
REDIS_MIN_IDLE_CONNS=3
REDIS_KEY_PREFIX=warehouse

# Query Performance Configuration
QUERY_TIMEOUT_SECONDS=30
QUERY_RESULT_CACHE_TTL=300
MAX_QUERY_RESULT_SIZE_MB=100
MAX_CONCURRENT_QUERIES_PER_ORG=10

# Data Export Configuration
EXPORT_TEMP_DIR=/tmp/trellis-exports
EXPORT_MAX_ROWS=1000000
EXPORT_FORMATS=json,csv,parquet

# File Storage (For Exports)
EXPORT_STORAGE_PATH=/var/lib/trellis/exports
EXPORT_RETENTION_DAYS=7

# Development Overrides
TRELLIS_DEBUG=true