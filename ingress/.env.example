# Trellis Configuration - Organization-Aware Traffic Ingestion
# Copy this file to .env and update with your values

# Server Configuration
TRELLIS_PORT=8080
TRELLIS_ENV=development
TRELLIS_LOG_LEVEL=info

# Warden Configuration (Organization Authentication)
# Warden service address for authentication and organization management
WARDEN_ADDRESS=localhost:21382
WARDEN_TLS=false
WARDEN_SERVICE_API_KEY=wdn_your_service_account_api_key_here
WARDEN_TIMEOUT_SECONDS=30

# ClickHouse Configuration (Primary Data Store)
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=8123
CLICKHOUSE_DATABASE=trellis
CLICKHOUSE_USERNAME=default
CLICKHOUSE_PASSWORD=
CLICKHOUSE_MAX_OPEN_CONNS=10
CLICKHOUSE_CONN_MAX_LIFETIME=60

# Redis Configuration (Deduplication & Caching)
REDIS_URL=redis://localhost:6379/0
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONNS=2
REDIS_KEY_PREFIX=trellis

# Google Cloud Pub/Sub Configuration (Event Streaming)
PUBSUB_PROJECT_ID=your-gcp-project-id
PUBSUB_TOPIC_ID=trellis-events
PUBSUB_SUBSCRIPTION_ID=trellis-processor
PUBSUB_MAX_OUTSTANDING=1000
PUBSUB_NUM_GOROUTINES=10

# Google Cloud Storage Configuration (Event Archival)
GCS_PROJECT_ID=your-gcp-project-id
GCS_BUCKET_NAME=trellis-events-archive
GCS_ARCHIVE_PREFIX=events

# Google Cloud Authentication
# Set to the path of your service account key file
GOOGLE_APPLICATION_CREDENTIALS=/path/to/your/service-account-key.json

# Development Overrides
# For local development, you might want to disable some services
# PUBSUB_PROJECT_ID=  # Leave empty to disable Pub/Sub in development
# GCS_PROJECT_ID=     # Leave empty to disable GCS in development

# Optional: Override for testing and development
TRELLIS_DEBUG=true
